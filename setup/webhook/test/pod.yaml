apiVersion: platform.shieldx.io/v1alpha1
kind: Tenant
metadata:
  name: payment-team
spec:
  tier: basic
  isolation: namespace
  owners:
    - admin@example.com
    - client@example.com

  resourceQuota:
    requestsCPU: 500m
    requestsMemory: 512Mi
    limitsCPU: "1"
    limitsMemory: 1Gi
    requestsStorage: 1Gi
    pods: "10"

  networkPolicy:
    podSelector:
      app: backend
      tenant: payment
    policyTypes:
      - Ingress
      - Egress
    ingress:
      - from:
          pod:
            app: frontend
            tenant: payment
    egress:
      - to:
          pod:
            app: db
            tenant: payment
# kubectl describe ns tenant-payment-team
# kubectl delete ns tenant-payment-team
# kubectl get networkpolicy -n tenant-payment-team
# kubectl delete networkpolicy -n tenant-payment-team tenant-network-policy
# kubectl describe networkpolicy -n tenant-payment-team  tenant-network-policy
